node {
	tool {nodejs "node"}
    
	stage('Git') {
		steps {
		git 'https://github.com/RemyMach/Mindory'
		}
	}
		
	stage('Build') {
		steps {
		sh 'npm install'
		}
	} 

	stage('SCM') {
		checkout scm
	}
	stage('SonarQube Analysis') {
		def scannerHome = tool 'SonarScanner';
		withSonarQubeEnv() {
			sh "${scannerHome}/bin/sonar-scanner"
		}
	}
}